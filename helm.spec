#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : helm
Version  : 2.12.3
Release  : 2
URL      : https://github.com/helm/helm/archive/v2.12.3.tar.gz
Source0  : https://github.com/helm/helm/archive/v2.12.3.tar.gz
Summary  : No detailed summary available
Group    : Development/Tools
License  : Apache-2.0
Requires: helm-bin = %{version}-%{release}
Requires: helm-license = %{version}-%{release}
BuildRequires : buildreq-golang
BuildRequires : glide
Patch1: 0001-Add-vendor-packages.patch
Patch2: 0002-ignore-glide-cmd-on-build.patch
Patch3: 0003-Build-fixes.patch

%description
# Helm
[![CircleCI](https://circleci.com/gh/helm/helm.svg?style=shield)](https://circleci.com/gh/helm/helm)
[![Go Report Card](https://goreportcard.com/badge/github.com/helm/helm)](https://goreportcard.com/report/github.com/helm/helm)
[![GoDoc](https://godoc.org/k8s.io/helm?status.svg)](https://godoc.org/k8s.io/helm)

%package bin
Summary: bin components for the helm package.
Group: Binaries
Requires: helm-license = %{version}-%{release}

%description bin
bin components for the helm package.


%package license
Summary: license components for the helm package.
Group: Default

%description license
license components for the helm package.


%prep
%setup -q -n helm-2.12.3
%patch1 -p1
%patch2 -p1
%patch3 -p1

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C
export SOURCE_DATE_EPOCH=1551226800
## make_prepend content
export GOPATH=/go
mkdir -p /go/src/k8s.io
ln -s /builddir/build/BUILD/helm-2.12.3 /go/src/k8s.io/helm
cd /go/src/k8s.io/helm
## make_prepend end
make  %{?_smp_mflags} bootstrap build


%install
export SOURCE_DATE_EPOCH=1551226800
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/helm
cp LICENSE %{buildroot}/usr/share/package-licenses/helm/LICENSE
true
## install_append content
install -d %{buildroot}/usr/bin
install -D -p -m 0755 bin/{helm,tiller,protoc-gen-go} %{buildroot}/usr/bin/
## install_append end

%files
%defattr(-,root,root,-)

%files bin
%defattr(-,root,root,-)
/usr/bin/helm
/usr/bin/protoc-gen-go
/usr/bin/tiller

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/helm/LICENSE
